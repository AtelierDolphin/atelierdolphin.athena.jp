<html>
<head>
 <TITLE>=ボケ防止に気分転換。黄金の神経衰弱=</TITLE>
<style type="text/css">
<!--
body,td,tr{
  letter-spacing:3px;
  line-height:160%;
-->
</style>

</HEAD>

 <BODY background="wall.gif">
 <CENTER><IMG src="title.gif" width="300" height="50" hspace="10" vspace="10"></CENTER>

 <FONT size="2"><CENTER>■ボケ防止用、及び気分転換用に試作してみました（笑）。<BR>
いわゆる「神経衰弱ゲームでございます。同じ聖闘士を揃えてネ★<BR>
[START]ボタンを押さなくてもなぜかゲーム開始します…（汗）。<BR><BR><BR>


 
	<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">

<script language="JavaScript"><!--//
//*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*//
//*                                                           *//
//*  Copyright (C) 1998-2003 WEST MiRa. All rights reserved.  *//
//*  WEST MiRa http://member.nifty.ne.jp/marsh/misya          *//
//*                                                           *//
//*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*//

	hatena=new Image();


	//ゲーム開始時のはてなマークの画像を指定
	hatena.src="atena.gif";

	//画像の横幅を指定
	pic_w=50;

	//画像の高さを指定
	pic_h=50;

	//めくったカードが戻るまでの時間。大きくすれば遅く、小さくすれば早くなる。
	//100以上の値が望ましい
	hayasa=300;

	//ゲームクリア時、アラートならば0を指定。別ページを表示するなら1を指定。
	clear_dore=0;

	//ゲームクリア時、アラートに表示する文字を指定
	clear_moji='お疲れ様でした～！また遊んでねｖ';

	//ゲームクリア時、表示する別ページのURLを指定
	clear_url='clear.html';


	//横マスと縦マスをかけ算して、必ず2で割り切れる数値を指定して下さい。
	//例：横をmasu_w=8;、縦をmasu_h=5;や、横をmasu_w=6;、縦をmasu_h=10;など

	//縦マスの数を指定
	masu_h=5;

	//横マスの数を指定
	masu_w=6;

	//神経衰弱に使用する画像の数
	//サンプルでは0-9までの10個の画像を使用してるので10。
	pic_num=15;


	pic=new Array();
	kazu=new Array();
	ikutu=0;	atari=0;	num=0;	checks=1;
	function img_load()
		{
		if(checks == 0)
			{
			for(i  =0; i < 10; i++)document.images["hidden"].src=pic[i].src;
			document.images["hidden"].src=hatena.src;
			}
		}

	function my_reset()
		{
		ikutu=0;	atari=0;	i=0;	j=0;	doko=0;
		num=Math.floor((masu_w * masu_h) / (pic_num * 2));
		max=pic_num;	min=0;	ataris=new Array();
		if((masu_w * masu_h) % 2 != 0)alert('数値エラーです。\n升目の合計数が不正です。');
		else {
			while(i < num)
				{
				while(j < max)
					{
					kazu[j]=Math.floor(Math.random()*pic_num);
					if(j == 0)j++;
					else 
						{
						a=min;
						while(a < j)
							{
							if(kazu[a] != kazu[j])a++;
							else break;
							}
						 if(a == j)j++;
						}
					if(max >= (pic_num * 2 * (i+1))+pic_num){ break; }
					else if(j % pic_num == 0){ min=max; max+=pic_num; }
					}
				i++;
				}
			for(i = 0; i < masu_w * masu_h; i++)
				{
				pic[i]=new Image();
				pic[i].src=""+kazu[i]+".gif";
				document.images["pic"+i].src=hatena.src;
				}
			checks=0;
			}
		num=0;
		}

	function modosu()
		{
		atari_han(mae);
		if(i == ataris.length+1)document.images["pic"+mae].src=hatena.src;
		atari_han(tugi);
		if(i == ataris.length+1)document.images["pic"+tugi].src=hatena.src;
		return;
		}

	function atari_han(doko)
		{
		i=0;
		while(i < ataris.length+1)
			{
			if(ataris[i] != doko)i++;
			else break;
			}
		return i;
		}

	function sinkei(doko)
		{
		if(checks == 0)
			{
			atari_han(doko); 
			if(i == ataris.length+1)document.images["pic"+doko].src=pic[doko].src;
			if(ikutu == 1)
				{
				ikutu=0;
				if(pic[mae].src != pic[doko].src)
					{
					tugi=doko;
					a=0;
					clearTimeout(a);
					a=setTimeout('modosu()',hayasa);
					}
				else 
					{
					atari++;
					ataris[num]=mae;
					ataris[num+1]=doko;
					num++;
					}
				}
			else if(ikutu == 0)
				{
				mae=doko;
				ikutu++;
				}
			if(atari == Math.floor(masu_w * masu_h / 2))
				{
				if(clear_dore)location.href=clear_url;
				else alert(clear_moji);
				}
			}
		}

//-->
</script>

</head>

<body onLoad="my_reset();img_load();">

<div align="center">

<!-- 以下変更不可 -->

<img src="" name="hidden" width="1" height="1" border="0">

<table cellpadding="0" border="1" cellspacing="0" align="center">

	<script language="JavaScript" type="text/javascript">
	<!--//Copyright (C) WEST MiRa http://member.nifty.ne.jp/marsh/misya/

		k=0;
		for(i = 0; i < masu_h; i++)
			{
			document.write('<tr>');
			for(j = 0; j < masu_w; j++)
				{
				document.write('<td><a href="javascript:sinkei('+k+');"><img src="'+hatena.src+'" name="pic'+k+'" border="0" width="'+pic_w+'" height="'+pic_h+'"><\/a><\/td>');
				k++;
				}
			document.write('<\/tr>');
			}

	//-->
	</script>

</table>

<form name="form1">
	<input type="button" value="START!" onClick="my_reset();">
	<input type="button" value="RESET" onClick="my_reset();">
 </form>

<!-- 以上変更不可 -->


-------------------------------------------------<BR>
Copyright (C)2000-2004 ATELIER DOLPHIN<BR>
-------------------------------------------------<BR>
 
</body></html>
